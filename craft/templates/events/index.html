{% extends "_layout" %}

{% block head %}
<link rel="canonical" href="{{ siteUrl }}events" />
{% endblock %}

{% block submenu %}
<h1>events</h1>
{% endblock %}

{% block blocks %}
{% set blockstyle = 'gray' %}
{% include '_default_block_start.html' %}
<h2>Filter</h2>
<div id="filters">
  <div class="date-group">  
    <h3>Dates</h3>
    <a href="#date=*">all dates</a>
    <a href="#date=.Jun11">June 11</a>
    <a href="#date=.Jun12">June 12</a>
    <a href="#date=.Jun13">June 13</a>
    <a href="#date=.Jun14">June 14</a>
    <a href="#date=.Jun15">June 15</a>
    <a href="#date=.Jun16">June 16</a>
    <a href="#date=.Jun17">June 17</a>
  </div>
  <ul class="nav nav-tabs" id="filtertabs" role="tablist">
    <li role="presentation" id="testtab" class="active"><a href="#tracks" name="tracks" aria-controls="tracks" role="tab" data-toggle="tab">Tracks</a></li>
    <li role="presentation"><a href="#rides" name="rides" aria-controls="rides" role="tab" data-toggle="tab">Rides</a></li>
  </ul>
  <div class="tab-content">
    <div role="tabpanel" class="tab-pane active track-group" id="tracks">
      <a href="#track=" id="alltracks">all</a>
      <a href="#track=.advocacy">advocacy</a>
      <a href="#track=.art">art</a>
      <a href="#track=.health">health</a>
      <a href="#track=.mtb">MTB</a>
      <a href="#track=.party">party</a>
      <a href="#track=.tech">tech</a>
      <a href="#track=.words">words</a>
    </div>
    <div role="tabpanel" class="tab-pane difficulty-group" id="rides">
      <a href="#difficulty=" id="allrides">all</a>
      <a href="#difficulty=.easy">easy</a>
      <a href="#difficulty=.medium">medium</a>
      <a href="#difficulty=.difficult">difficult</a>
    </div>
  </div>
</div>

<div class="events_grid"> 
{% set eventPhotoSize = { 
  '0': { mode: 'fit', width: 100, height:100 },
  '1': { mode: 'fit', width: 200, height:200 },
  '2': { mode: 'fit', width: 400, height:400 } }
%}
{% for entry in craft.entries.section('events') %}
<div class="events_grid_item {% for track in entry.track %}{{track}} {% endfor %} {{entry.startDateTime | date('Mj')}} {{ entry.rideDifficulty }}"><a href="{{ entry.url }}"><img src="{{ entry.photo.first.getUrl(eventPhotoSize[entry.photoSize]) }}">
  <div class="event-caption capsize{{ entry.photoSize }}">{{ entry.title }}</div></a>
</div>
{% endfor %}
</div>

<div id="no-results"><h1>No Results</h1>
<p>Whoops, we could not find any events matching your criteria. Please change your filters above to see more results.</div>
{% include '_default_block_end.html' %}
{% endblock %}

{% block scripts %}
  <script src="/assets/js/lib/jquery.ba-bbq.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/2.2.2/isotope.pkgd.min.js"></script>
  <script src="/assets/js/events.js"></script>
{% endblock %}

